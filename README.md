# Data Structure

### 逻辑结构和存储结构

##### 逻辑结构
* 抽象的
* 描述数据元素之间的逻辑关系
* 对人类阅读更友好
* 分为：集合结构（无关系）， 线性结构（一对一）， 树形结构（一对多）， 图形结构（多对多）

##### 存储结构
* 具体的
* 指的是数据结构在计算机中的具体表示
* 对机器更友好
* 分为：顺序存储， 链式存储， 索引存储， 散列存储

### 存储结构

##### 顺序存储
* 能够随机存储（指的是能任意定位到随机的某个元素）
* 每个元素占用最少空间
* 必须使用整块的内存， 会产生较多内存碎片

##### 链式存储
* 只能顺序存储
* 每个元素需要额外空间存储下一节点指针
* 充分利用内存空间， 不会产生碎片

### 算法

##### 概念
* 程序 = 数据结构 + 算法
* 是对特定问题求解步骤的一种描述
* 特性：
    1. 有穷性（有限的步骤， 不能无限循环）
    2. 确定性（每一步不能有歧义）
    3. 可行性（可以使用已有的基本操作来实现）
    4. 输入（0或多个输入）
    5. 输出（1或多个输出）

##### 时间复杂度
* 事前预估算法的时间开销 `T（n）` 和问题规模 `n` 的关系， 或者说 `T（n）` 和 `O（f（n））` 的关系
* 只考虑n的高阶部分， 并且可以省略常数项系数， 使用 `O（n）` 来表示时间复杂度
* 只需要关注循环操作， 并且只需要关注最深层循环的次数
* `T（n）` 的加法， 只保留最高阶项， 乘法则都要保留
* $O（1） < O（log_2n） < O（n） < O（nlog_2n） < O（n^2）$
* 常对幂指阶记忆法
* 最坏时间复杂度， 平均时间复杂度（指所有示例出现概率相等情况下）， 最好时间复杂度

##### 空间复杂度
* 内存开销S（n）和问题规模n的关系
* 考虑数组的占用， 递归调用栈空间的占用

### 线性表
* n个相同类型元素组成的有序的集合
* 元素个数有限， 元素数据类型相同， 逻辑上有顺序性
* 是逻辑结构中的线性结构

### 顺序表
* 是线性表的存储结构的实现方式1
* 可以随机存取， 每个节点只存储数据
* 插入删除操作效率低， 需要整段连续内存存储（底层数组实现）

### 单链表
* 是线性表的存储结构的实现方式2
* 插入删除只需要修改指针指向，所以速度快
* 无需连续存储空间
* 无法随机读取，查找需要从头开始
* 存储指针存在空间的浪费

##### 结构体数据占用空间问题
* 结构体指针本身占用空间4或者8，取决于32位或者64位系统
* 结构体内各个元素相加后凑整，8，16等

### 一维数组
* 地址，索引默认从0开始
$$ a[i] = 起始地址 + i * sizeof（ElemType） $$

### 二维数组
* 地址
* 行优先
  * $a[i][j] = 起始地址 + （i * N + j） * sizeof（ElemType）$   
* 列优先
  * $a[i][j] = 起始地址 + （j * M + i） * sizeof（ElemType）$

### 对称矩阵
* `n` 行 `n` 列，`a（i， j） = a（j， i）`
* 可以进行压缩存储，例如只存储主对角线数据以及下三角区数据
* 数组大小
  * $size = \frac{（1 + n） \times n}{2}$
* 由于从`0`开始，所以最后元素的索引为 $\frac{（1 + n） \times n}{2} - 1$
* 矩阵的元素下标 `a（i， j）` 对应到数组的索引下标，公式为：（以存储主对角线数据以及下三角区数据为例）
* 行优先
  * $a（i，j） = \frac{（1 + i - 1） \times （ i - 1 ）}{2} + j - 1 = \frac{i \times （ i - 1 ）}{2} + j - 1$
  * 解析：`i` 代表前面有 `i-1` 行，那么 `i-1` 行的元素个数即为$\frac{（1 + i - 1） \times （ i - 1 ）}{2}$，`j` 代表当前这一行是第 `j` 个元素，由于数组索引从 `0` 开始，所以对应的索引需要再减去 `1` （注意矩阵的 `i`，`j` 一般从 `1` 开始，而数组索引从 `0` 开始）
* 列优先 
  * $a（i，j） = \frac{（n + （n - （ j - 1 ） + 1）） \times （ j - 1 ）}{2} + （ i - j + 1 ） - 1$ 
  * 解析：`j` 代表前面有 `j-1` 列，每一列的个数从 `n` 开始递减，第 `j-1` 列的元素个数是 `n-(j-1)+1`，`(i-j+1)` 代表是当前列的第几个元素

### 三角矩阵
* 下三角矩阵 指的是上三角区所有元素都相同
* 数组大小 
  * $size = \frac{（1 + n） \times n}{2} + 1$ 
  * 多一个位置来存储上三角区相同元素

### 三对角矩阵
* 指的是 `|i-j|>1` 时，`a（i，j）= 0` 这样的矩阵，也就是除了主对角线元素以及和主对角线相差一个单位元素之外，剩余位置元素都是0
* 数组大小
  * $size = （ 3 \times n - 2 ）$
  * 解析：除了第一行和最后一行只有两个元素，其余行都是三个元素
* 索引（行优先） 
  * $a（i，j） = （ 3 \times （ i - 1 ） - 1 ） + （ j - i + 2 ） - 1 \\ = 2i+j-3$
  * 解析：前面一共有 `i-1` 行，第一行少一个元素，当前行使用 `j-i+2` 求出第几个元素位置，最后索引从 `0` 开始所以再减一
* 根据索引 `k` 反求 `i`，`j`
  * 解析：索引 `k`，代表是第 `k+1` 元素，根据不等式：前 `i-1` 行元素 < 第 `k+1` 元素 <= 前 `i` 行元素，假设一行 `3` 个元素，则有 $3（i-1）- 1 < k + 1 <= 3i - 1$，得 $i >= \frac{（k + 2）}{3}$，向上取整，再根据 $k = 2i + j - 3$，求出 `j`

### 稀疏矩阵
* 指的是非 `0` 元素个数远远少于 `0` 元素个数的矩阵
* 缺点：失去随机存取特性
* 使用一些技巧进行压缩存储，例如
  * 顺序存储三元组 （行号， 列号， 非 `0` 值） 行列号码从 `1` 开始
  * 链式存储十字链表法 

# 树&二叉树

### 树

##### 概念
* 度数：指的是结点有几个孩子
* 度为 `m` 的树：指的是这棵树至少有一个结点的度为 `m`，一定是非空树，至少有 `m+1` 结点
* m叉树：指的是允许所有结点的度小于 `m` ，可以是空树

##### 性质
1. 结点数量 = 总分支数(总度数) + 1 
2. 总分支数(总度数) = $1n_1 + 2n_2 + 3n_3 + ... + mn_m$
3. 结点数量 = $n_0 + n_1 + n_2 + n_3 + ... + n_m$
4. `n` 个结点的树有 `n-1` 条边
5. 度为 `m` 的树，第 `i` 层，至多有 $m^i - 1$ 个结点
6. 高度 `h` 度为 `m` 的树，至少有 $h + m - 1$ 个结点
7. `m` 叉树，第 `i` 层，至多有 $m^i - 1$ 个结点
8. 高度 `h` 的 `m` 叉树，至多有 $（m^0 + m^1 + m^2 + ... + m^h - 1）\\ = \frac{（1 - m^h）}{1 - m}$ 个结点
9. 高度 `h` 的 `m` 叉树，至少有 `h` 个结点
10. `n` 个结点的 `m` 叉树，最小高度是 $log_m （n（m - 1） + 1）$ 向上取整

### 二叉树

##### 满二叉树 
* 高度 `h` ，有 $2^h - 1$ 个结点 
* 性质
  * 只有最后一层才会出现叶子结点 
  * 不存在度为 `1` 的结点 
  * 从上到下从左到右编号，从 `1` 开始 结点 `i` 的左孩子是 `2i` ，右孩子是 `2i+1` ，父结点是 $\frac{i}{2}$ 向下取整

##### 完全二叉树
* 就是最后一层不满的满二叉树
* 完全二叉树不一定是满二叉树，而满二叉树一定是完全二叉树
* 直观理解就是连续的去除掉最后一层中编号较大的叶子结点
* 性质
  * 只有最后一层以及倒数第二层会出现叶子结点
  * 最多只有一个度为 `1` 的结点
  * 从上到下从左到右编号，从 `1` 开始 结点 `i` 的左孩子是 `2i` ，右孩子是 `2i+1` ，父结点是 $\frac{i}{2}$ 向下取整
  * `n` 个结点的完全二叉树，$i <= \frac{n}{2}$ 取整时代表 `i` 是分支结点，$i > \frac{n}{2}$ 取整时代表 `i` 是叶子结点

##### 二叉排序树
* 左子树所有结点的关键字（即数值）都小于根结点的关键字
* 右子树所有结点的关键字都大于根结点的关键字

##### 平衡二叉树
* 任意结点的左子树和右子树的高度（深度）之差小于等于 `1`

##### 常见考点
1. 非空二叉树，度为 `0` ，`1` ，`2` 的结点个数为 $n_0$，$n_1$，$n_2$，则有 $n_0 = n_2 + 1$
2. 二叉树，第 `i` 层的结点数量，最多是 $2^i - 1$
3. 高度 `h` ，二叉树，最多有 $2^h - 1$ 结点（即满二叉树）
4. 完全二叉树，n个结点，高度为 $h = log_2(n + 1)$ 向上取整



# c语言入门习题

A A A B A 
A B A A A 
A A A A B A 
A A A
A B A A
A A B A A
B A B A B 
A A B 
A A B
B B A
A A A
B A B!
A A B A
B B B!
A A A
A B A B
A A A
B A A
B A B
A A B
A B A
A A B !B
B A A A
!A A A
A A B A 
A A A
A A B
A B B 
!A A B

# 408教材习题

### 1.1.3
1D 2A 3C 4A 5C 
1可以相同，例如二叉树和二叉排序树，逻辑结构和物理结构相同，但是数据的运算不同，导致是不同的数据结构 
2比如线性表查找元素，在顺序存储时效率高，在链式存储时效率低

### 1.2.3
1B 2C 3C 4B 5D 6D 7C 8!D 9A 10A 11C 12A 13B 14C 15B 16B 17!B 
1O（n） O（n^1/2） ! O（n*m）

### 2.1.3
1C 2B 3A 4A 

### 2.2.3
1A 2C 3A 4C 5B 6D 7A 8C 9C 10C 11C 12C 13B 14!D 15D 
综合应用题详见代码

### 2.3.7 
1B 2B !3C/A 4D 5A 6C !7B/D 8C 9C 10B 11BA !12B/D 13B 14C 15D 16A 17A 18C 19B 20D !21A/C 22D !23C/A !24D/C 25B 26A 27D 28D 29D 30B !31A/B 32D 33D 34D 35C 36D
综合应用题详见代码

### 3.1.4
!1C/B 2C 3B 4C 5B 6A 7A 8A !9D/C 10C 11D !12B/A 13B 14D !15B/A 16D 17D !18A/D 19C 20C !21B/A !22BC?C !23?C !24B?B 25A 26C 27D !28?B !29?C 30D !31?D
二.01. 
CDEBA
CDBEA
CDBAE
02.
ABBCCADEED OK
ABCDD No
03.
IOIIOIOO No 因为题目要求栈空
IOO No
IIIOIOIO OK
IIIOOIOO OK
04.见[text](08_data_structure/LinkList1.cpp)
05.

### 3.2.5 
1D 2B 3D 4B 5D !6A/C 7B 8D 9C 10A !11A/D 12B 13A 14A !15A/D 16D !17B/A 18B 19C 20C 21B 22A 23C 24D

### 3.3.6
1D 2B 3D 4B 5B 6C 7C 8B 9C 10B 11A 12B 13A 14B 15A !16B/C 17C 18B 19A

### 3.4.5
1D 2C !3B/A 4D 5A 6B 7C 8B 9B 10D 11B 12A 13A 14C 15B 16A

### 4.2.4
1C 2B 3CD 4D 5B 6C !7C !8C/B 9C 10B 11C 12B !13B/A
二.1
2.
aabaabaabaac
aabaac
next
012123
（2）
    aabaa baa baac
1   aabaa c
2      aa baa c
3          aa baac

### 5.1.4
1D !2A 3A 4A 5A 6C !7B/D !8D !9B !10C
二
1.`[`log3（2n+1）`]`取整
2.
n=1+4+2*3+3*2+4n4=14+4+3+2+n4
17+4n4=23+n4
n4=2
n=25
3.
n=1+n1+2n2+3n3...mnm=n0+n1+n2+n3...nm
n0=1+n2+2n3...（m-1）nm
=∑（i-1）ni

